#!/usr/bin/env k
u8d:{i:-1+\0<t:0 2 3 4 1@1+-64 -32 -16 0'x
     @[&1+*|i;i;+;(x-0x8000c0e0f0 t)*1 1 64 4096 262144@|/(|-!4)+(#t)':(&3),t]}
u8e:{
 m:2+128 2048 65536'x /lengths of multibyte sequences
 O:0,+\m              /offsets in result
 i:&'m=/:1+!4         /indices (in x) of 1-, 2-, 3-, and 4-byte sequences
 @[(*|O)#"";(!4)(1+)\'O i;:
   `c$(0;-64 -128;-32 -128 -128;-16 -128 -128 -128)+((,(::);(32!-64!;64!);(-4096!;64!-64!;64!);(-262144!;64!-4096!;64!-64!;64!))@\:'x i)]}

/
x~u8e u8d x:"Salut ĞŸÑ€Ğ¸Ğ²ĞµÑ‚ ä½ å¥½ ğŸ––"
X~u8e Y:u8d X:((#x)*(-#x)!100000)#x
-
\t:100 u8d X
\t:100 u8e Y
