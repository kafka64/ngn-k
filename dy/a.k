#!../k
/ https://github.com/xpqz/dyalogk  https://problems.tryapl.org/
\l ../l/maths.k
\l ../l/dt.k
T:{[c;ae]a:-1_ae;e:*|ae;$[c[e;r:f. a];;[R::1;`0:("FAIL";"  FUNC ",`k f;"   CMP ",`k c;"  ARGS ",`k a;"   EXP ",`k e;"   RES ",`k r;"")]]}
R:0;M:T[~]';A:T[{&/1e-6>,//x|-x-:y}]';D:T[{~/_1e6*(x;y)}]' /R:exit code,M:matching,A:approx equal,D:approx float deep-match
pi:3.14159265359;AZ:`c$"A"+!26

/2013 1;f:-1+1_2*!1+                      ;M((10;1 3 5 7 9 11 13 15 17 19);(1;,1);(0;!0));
/2;f:{100*1f^(+/64<x)%#x}                 ;M((25 90 100 64 65;60f);(,50;0f);(80 90 100;100f);(!0;100f));
/3;f:+/1<':^:                             ;M(("Testing one, two, three";4);("";0);(" this vector has extra blanks ";5));
/4;f:{~(*|0,x)|/0>x:+\-/"()"=\:x}         ;M(("((2×3)+4)";1);("";1);("hello world!";1);(")(2×3)+4(";0);("(()";0);(")";0));
/5;f:=                                    /k primitive
/6;f:{x[0]-*|x@:>x:,/x}                   ;M((19 -3 7.6 22;25f);(,101;0);((10 20 30;40 50 60);50);(!0;0));
/7;f:{x=_x}_                              ;M((14.2 9 -3 3.1 0 -1.1;14.2 3.1 -1.1);(1 3 5;!0);(3.1415;,3.1415));
/8;f:{x*\:x:1+!x}                         ;M((5;5 5#1 2 3 4 5 2 4 6 8 10 3 6 9 12 15 4 8 12 16 20 5 10 15 20 25);(1;+1);(0;0 0#0));
/9;f:{(+/'x':y)%x}                        ;sa:200 300 2700 3400 100 2000 400 2100 3500 3000 4700 4300f /sales
/                                         ;M((2;sa;250 1500 3050 1750 1050 1200 1250 2800 3250 3850 4500f);(10;sa;1770 2220 2620f);(1;sa;sa));

/2014 1;f:{~-/*/2#,|x,y,z}                ;M(3 4 5 1;2 3 4 0);
/2;f:{(2(|1|':)/"0">x)|^"aeiou"?_x}#      ;M(("if you can read this, it worked!";"if yu cn rd ths, it wrkd!");("APL is REALLY cool";"APL is RLLY cl");(,"a";,"a")); /they want it to work on raw scalars
/3;f:{-1_*|+x(|+\)\1 1}                   ;M((10;1 1 2 3 5 8 13 21 34 55);(1;,1);(0;!0));
/4;f:" "/(~#:')_" "\                      ;M((" this is a test ";"this is a test");("";"");("hello world!";"hello world!");("    ";""));
/5;f:1=#|:\(~"a{"')#_:                    ;M(("a man, a plan, a canal, panama!";1);("";1);("a";1);("APL";0));
/6;f:{+(!x;.x)}@#'=+/1+!(!0),             ;M((6 6;11 2#2 1 3 2 4 3 5 4 6 5 7 6 8 5 9 4 10 3 11 2 12 1);(6 4;9 2#2 1 3 2 4 3 5 4 6 4 7 4 8 3 9 2 10 1);(3;3 2#1 1 2 1 3 1));
/7;f:%/(*|(*:)(|!\)/,)\,                  ;M((10;10;1f);(10;5;2f);(5;7;5f));
/8;f:%+/*/2#,-/                           ;M((2 5;3f);((2 2;5 6);5f);(!0;0f);((2 2 3 4;3 7 10 9);10f));
/9;f:{(x*x*`sin@2*y*pi%180)%9.8}          ;A((100;45;1020.408163);(0;45;0f);(100;90;0f));
/10;f:100*|/1_-1+%':                      ;A((80 100 120 140;25);(3#123;0);(101 102 114 117 101 110 102 111 118 115 124 122;11.76470588);(200 180 160 140 120;-10));

/2015 1;f:~/{x@<x^:x^_AZ}'_:              ;M((("anagram";"Nag A Ram");1);(("Dyalog APL";"Dog Pay All");1);(("";"  !#!");1);(("abcde";"zyxwvu");0));
/2;f:|/{y*x+y}\>':(!0),                   ;M((1+!9;8);(1;0);(9-!6;0);(1 5 3 4 2 6 7 8;3));
/3;f:{?(,!2),x@*'<==%/'x}1_+&+|\=1+       ;M((0;,0 1);(1;(0 1;1 1));(5;(0 1;1 5;1 4;1 3;2 5;1 2;3 5;2 3;3 4;4 5;1 1)));
/4;f:{((#x)#<<x,y)?(#y)#<<y,x}            ;M(("DYALOG APL";"AAALLLB";2 7 0N 3 9 0N 0N);("";"test";4#0N);("test";!0;!0));
//5;f:{%(x y*y)-a*a:x y}{(+/x)%#x}         ;A((,1+!5;1.414213562);(,10 10#1+!100;28.86607005));
/6;f:&/~=/2#+-2!<'+,/                     ;M((((1 1;5 5);(3 3;7 7));1);(((1 1;5 5);(5 5;1 1));1);(((1 1;3 3);(4 4;7 7));0);(((1.1 1.1;5.5 5.5);(3.3 3.3;4.4 4.4));1));
/7;f:~^?/_|:                              ;M(($`dyalog`APL;001100b);($`bramley`HAMPSHIRE;0111010b));
/8;f:{@[x;&13=x;:;12.99]}                 ;M((,13;,12.99);(10+!5;(10;11;12;12.99;14));(13 130 13.13 1300;(12.99;130f;13.13;1300f)));
/9;f:{(x@0,(,/|'0N 2#1+!-2+#x),-1+#x)^" "};M@$(`argument`agrmunet;`this`tihs;`is`is;`awesome`aewosme);
/10;f:{(--2!x+|/x:#'x)$'x:`k'x(+':|0,)\1} ;M@,(10;("                 1"
/                                                  "                1 1"
/                                                  "               1 2 1"
/                                                  "              1 3 3 1"
/                                                  "             1 4 6 4 1"
/                                                  "           1 5 10 10 5 1"
/                                                  "         1 6 15 20 15 6 1"
/                                                  "        1 7 21 35 35 21 7 1"
/                                                  "      1 8 28 56 70 56 28 8 1"
/                                                  "    1 9 36 84 126 126 84 36 9 1"
/                                                  "1 10 45 120 210 252 210 120 45 10 1"));

/2016 1;f:{0^(+/x)%#x}                    ;A((1+!6;3.5);17 17;(5 3#1+!15;7 8 9f);(!0;0));
/2;f:{{(+/x)%#x}x[<x]@-2!(#x)-!2}         ;M((1+!9;5f);(1 8 2 7 3 6 4 5;4.5);(!0;0f);(,7;7f));
/3;f:{&x=|/x:#'=x}                        ;M((2 1 4 3 2 5 1 2;,2);(!0;!0);(1 2 3 4 1 2;1 2));
/4;f:{(,/x)@<,/(!#)'x}                    ;M($(`MENS`EKES;`MEEKNESS);$(`Dyalog`APL;`DAyPaLlog);$(`APL`Dyalog;`ADPyLalog);((1 3 5 7;2 4 6 8);1 2 3 4 5 6 7 8);$(``Hello;`Hello));
/5;f:&1=#'=:                              ;M((1+!5;1+!5);(1 2 3 4 5 4 3 2 1;,5);("hello world";"he wrd"));
/6;f:{<x!#'x}                             ;M($(`one`two`three`four`five`six;`one`two`six`four`five`three);((2 4 3;4 5;,1;7 3);(,1;4 5;7 3;2 4 3));(!0;!0)
/                                            (("one";,2;"three";," ";"four";5 6 7 8);(,2;," ";"one";"four";5 6 7 8;"three")));
/7;f:(|/~3 5!\:)#                         ;M((1+!10;3 5 6 9 10);(!0;!0));
/8;f:{.|x@=0>x}                           ;M((0 1 -2 3 -4 -5 6 7 8 -9 10;(-2 -4 -5 -9;0 1 3 6 7 8 10))
/                                            (1 2 3 4 5;,1 2 3 4 5) /this isnt the behaviour they want, but unsure how that maps to k's array model
/                                            (!0;()));              /same here
/9;f:{x\y}                                /k primitive
/10;f:+/*/                                ;A(((5 0 2;2.99 4.99 1.99);18.93);((&3;2.99 4.99 1.99);0));

/2017 1;f:1+2*!:                          ;M((5;1 3 5 7 9);(1;,1);(0;!0));
/2;f:{x+2!x}                              ;M((1 2 3 4 5;2 2 4 4 6);(!0;!0);(4 4#1+!16;(2 2 4 4;6 6 8 8;10 10 12 12;14 14 16 16)));
/3;f:"\"\""/{2!!#x}_"\""\                 ;M(("this \"is\" a test";"this \"\" a test");("this is a test";"this is a test")
/                                            ("this \"is\" a \"test\"";"this \"\" a \"\"");("";""));
/4;f:{x*y*y*pi%1440}                      ;A((60;12;18.84955592);(0;12;0f);(60;0;0f);(60;9 12 15;10.60287521 18.84955592 29.45243113)
/                                            (60 90 120;12;18.84955592 28.27433388 37.69911184);(60 90 120;9 12 15;10.60287521 28.27433388 58.90486225));
/5;f:{~#x^"ACGT"}                         ;M(("ATGCTTCAGAAAGGTCTTACG";1);("Dyalog";0);("";1);(,"T";1));
/6;f:{?x':y}                              ;M((4;"ATCGAAGGTCGT";$`ATCG`TCGA`CGAA`GAAG`AAGG`AGGT`GGTC`GTCG`TCGT);(4;"AC";0#,"    "));
/7;f:+/'"ACGT"=\:                         ;M(("AGCTTTTCATTCTGACTGCTGTCTTTAAAAAAAGAGTGTCTGATAGCAG";14 8 10 17);("CCAAATGGGG";3 2 4 1);("";&4);(,"G";0010b));
/8;f:>':|\1=                              ;M((0101001b;0100000b);(!0;!0);(0000b;0000b));
/9;f:|=':|"",                             ;M(("bookkeeper";0101010000b);("";"");("aaaaaa";111110b);("d";,0)); /"" as result arguably dogdy?
/10;f:{x@s#!*/s:2#-_-%#x}                 ;M((1 2 3 4;2 2#1 2 3 4);(1 2 3 4 5;3 3#1 2 3 4 5 0N 0N 0N 0N);("Dyalog APL";4 4#"Dyalog APL      "));

/2018;signsc:`Monkey`Rooster`Dog`Pig`Rat`Ox`Tiger`Rabbit`Dragon`Snake`Horse`Goat;cutoffs:+(1+!12;20 19 21 20 21 21 23 23 10 23 22 22)
/signsw:`Capricorn`Aquarius`Pisces`Aries`Taurus`Gemini`Cancer`Leo`Virgo`Libra`Scorpio`Sagittarius`Capricorn
/1;f:#?|\                                 ;M((5 5 2 10 3 15 10;3);(|5 5 2 10 3 15 10;2);(!0;0);(,10;1));
/2;f:{(f;x-f:_x)}                         ;A((1.234;1 0.234);(12;12 0);(0;0 0));
/3;f:{x:#'=+/1+!x,!0;" "/'+($'!x;.x#'"*")};M((6 6;"|"\"2 *|3 **|4 ***|5 ****|6 *****|7 ******|8 *****|9 ****|10 ***|11 **|12 *")
/ (6;"|"\"1 *|2 *|3 *|4 *|5 *|6 *");(5 3 4;"|"\"3 *|4 ***|5 ******|6 *********|7 ***********|8 ***********|9 *********|10 ******|11 ***|12 *");(0;())); /they expects ("0 *") - dubious
/4;f:{signsc@12!x+0>x}                    ;M(2018,`Dog;1564,`Rat;-551,`Dog);
/5;f:{signsw(x@<x:cutoffs,,x)?x}          ;M((2 23;`Pisces);(10 31;`Scorpio));
/6;f:{(~*|x)&&/~0>x:+\0^1 -1"<>"?x}       ;M(("<name><first>Drake</first><last>Mallard</last></name>";1);("<math><relation>2<3</relation></math>";0)
/                                            ("";0);(">stuff<>/stuff<";0)); /they want 1 for input "" -- not sure
/7;f:{0^y(!#y)-x}                         ;M((3;10111011b;00010111b);(-3;10111011b;11011000b));
//8;                                      /APL-specific
/9;f:{0^*-/0<-:\(-/x)^0}                  ;M(((ts;2018 4 1 16 45 12 800);-1);((ts;2018 4 1 12 34 56 789);0);((ts:2018 4 1 12 34 56 789;2017 4 1 12 34 56 789);1));
/10;f:~/{=x@<x^:" "}'                     ;M((("ALBERT EINSTEIN";"TEN ELITE BRAINS");1);((,"";,"");1);((,"d";,"d");1);($`mesas`seam;0);($`apple`lapel;0));

2019 1;f:{(0N,x)#y}                      ;M((3;1+!9;(1 2 3;4 5 6;7 8 9));(3;1+!11;(1 2 3;4 5 6;7 8 9;10 11));(10;"Dyalog";,"Dyalog")
                                            (2;$`the`cat`in`the`hat`sat`pat;$(`the`cat;`in`the;`hat`sat;,`pat));(4;5;,,5));
2;f:"FDCBA"@0 65 70 80 90'               ;M((0 64 65 69 70 79 80 89 90 100;"FFDDCCBBAA");(!0;"");(2 3#71 82 81 82 84 59;$`CBB`BBF));
3;f:{+(!x;.x;0.1*_0.5+1e3*.x%+/x)}0^"ABCDF"##'=:;{&/1e-6>a|-a:,//x-y}T({9 3 8 4 7}#"DABFC";+("ABCDF";3 8 7 9 4;9.7 25.8 22.6 29 12.9));
4;f:(&/'0<)#(+,/'|:\2 1*1 -1@!2 2)+\:    ;M((5 4;(7 5;7 3;3 5;3 3;6 6;4 6;6 2;4 2));(1 1;(3 2;2 3)));
5;f:(|/" "=':"",)'                       ;M(($`I`feed`the`bookkeeper;0101b);(,"I";,0);(,"feed";,1);($`MY`LLAMAS`HAVE`BEEN`GOOD;01011b));
6;f:10!((,/$!10),"AAADGJMPTW")'          ;M(("IAMYY4U";4 2 6 9 9 4 8);("";!0);("UR2CUTE";8 7 2 2 8 8 3));
7;f:{{?[x$"";-2!x-:#y;y]}[x]'(x&'#'y)#'y};M@,(10;$`APL`Problem`Solving`Competition;("   APL    ";" Problem  ";" Solving  ";"Competitio"));
8;f:{+/%+/'x*x:(*|x)-':x}                ;A(((1 -1;1 3);8);((1 1;1 2;2 2;2 1);4);(5 5;0);((1 1;3 3);5.656854249));
rot:{@[x;(2!)#!#x;|:]} /flip pairs at odd indices
9;f:{x|-x:0.5*-/+/rot 1_*':rot x,,*x}    ;A(((2 4;3 -8;1 2);7);(,1 1;0);((1 1;2 2);0));
10;f:{(),/:(#;_)[;2!#:';x]}              ;M@$((`the`plan`is`great;(`the`great;`plan`is));(`all`odd;(`all`odd;0#`));(`only`even`here;(0#`;`only`even`here)));

2020 1;f:{$[x<0;o[x+#y;y];(x;x-#y)#\:y]} ;M((9;"SplittingHairs";$`Splitting`Hairs);(-3;"DyalogAPL";$`Dyalog`APL);(10;1+!10;(1+!10;!0))
                                            (1;$`works`with`words`also;$(,`works;`with`words`also)));
2;f:{(&~2=-64!x)_x}                      ;M((68 194 165 226 141 186 226 140 138 240 159 148 178 57;(,68;194 165;226 141 186;226 140 138;240 159 148 178;,57))
                                            (68 121 97 108 111 103;+,68 121 97 108 111 103) /they expect 68 121 97 108 111 103, but this seems inconsistent
                                            (!0;!0));
3;f:26/1+AZ?                             ;M("A",1;("APL";1104));
4;f:{x|y<z}.~400 100 4!\:                ;M(2020 1;(1901+10 10#!100;10 10#100#0001b));
5;f:{(x<y)|:/(x-!x-y),x&y}               ;M((3;10;3 4 5 6 7 8 9 10);(4;-3;4 3 2 1 0 -1 -2 -3);(42;42;,42));
6;f:{,/(#;_)[;x=;y]}                     ;M((3;1 2 3 4 1 3 1 4 5;3 3 1 2 4 1 1 4 5);(3;,1;,1);(42;!0;!0));
7;f:{|/&/((#2\|/x)#2)\'x}                ;M((2 7;1);(4 11;0);(3 11;1);(4 0;0));
8;f:*/0>1_*':1_-':10\                    ;M(123 0;31115 0;3141514131415 1;132 1);
9;f:&/{x~*\x=:|\x}'|:\                   ;M((1 3 3 4 5 2 1;1);(,42;1);(1 3 2 4;0);(23 23 23;1);(!0;1));
10;f:`k                                  /APL-specific

2021 1;f:{100*(+/|/"GC"=\:x)%#x}         ;A(("GCGCGCGCCCGGGGCCG";100);("ACGTACGTACGTACGT";50);("ACGT"@&10 12 16 10;58.33333333));
2;f:?                                    ;M(("DYALOG";"APL";2 0N 3);(5 5#AZ;("UVWXY";"FGHIJ";"XYZZY");4 1 0N));
3;f:{y@&'~x!\:y}                         ;M((2 4 7 3 9;5 7 8 1 12 10 20 16 11 4 2 15 3 18 14 19 13 9 17 6;(8 12 10 20 16 4 2 18 14 6;8 12 20 16 4;7 14;12 15 3 18 9 6;18 9))
                                            (,3;1+!10;,3 6 9);(6 7;,42;(,42;,42));(2 3 5;!0;(!0;!0;!0));(!0;1+!10;!0));
4;f:{x*x*(pi-2)%4}                       ;D((2*1+!5;1.141592654 4.566370614 10.27433388 18.26548246 28.53981634)
                                            ((%2)*3 3#1+!9;3 3#0.5707963268 2.283185307 5.137166941 9.132741229 14.26990817 20.54866776 27.96902001 36.53096491 46.23450247));
5;f:{a,_x%a:![;x](-1+)/_%x}              ;M((12;3 4);(16;4 4)),+(1+!19;(1 1;1 2;1 3;2 2;1 5;2 3;1 7;2 4;3 3;2 5;1 11;3 4;1 13;2 7;3 5;4 4;1 17;3 6;1 19));
                                          M((999999;999 1001);(1000000;1000 1000));
6;f:{(2!+/x"B")>(<,/(x:=x)"KR")1}        ;M(("RNBQKBNR";1);("BBNRKNRQ";1);("RBBNQNRK";0);("BRBKRNQN";0));
7;f:{1=#=+/'x,(+x),(,/'x*/:(i;|i:=#x))^\:0};M((,,42;1);((4 9 2;3 5 7;8 1 6);1);((1 2;3 4);0));
8;f:|/-:\-/0 24 60/'-3#'(&3),/:          ;M(((2 30;5 15);165);((5 15;2 30);165);((100b;,0);1440));
9;f:|/#'{(&~=':x)_x}@1_-/0<-:\-':        ;M((1 2 3 5 5 5 6 4 3;3);(1 2 3 4 4 4 4 4 5 4 3;4);(1 2;1));
10;f:{(-x)$y}                            ;M((6;">";"     >");(8;("K";"E";"Iverson");("       K";"       E";" Iverson"))
                                            (8;("Longer Phrase";"APL";"Parade");("r Phrase";"     APL";"  Parade")));

2023 1;f:{x=|\x}#                        ;M((1+!10;1+!10);(2 1 4 3 6 5 8 7 10 9;2 4 6 8 10)
                                            (1000 2500 1333 1969 3141 2345 3141 4291.9 4291.8 4292;1000 2500 3141 3141 4291.9 4292)
                                            (1 3 7 3 5 8 5 8 1 6 1 8 1 10 8 4 3 4 1 4;1 3 7 8 8 8 10));
2;f:{a:x~*x;b:y~*y;$[a&b;x~y;a;o[,x;y];b;0;(&-1+#x),x~/:(#x)':y]}
                                         ;M(($`abra;$`abracadabra;00010000001b);($`issi;$`Mississippi;00001001000b);("bb";"bbb bbb";0110011b)
                                            (,42;42;0);42 42 1;(,42;,42;,1);($`are`aquatic;$`ducks`are`aquatic`avians;0 0 1 0));
3;f:{x 27!y+x?z}" ",AZ                   ;M((4;h;"LIPPSD SVPHW");(-4;h;"DAHHKWSKNH O");(0;h;h:"HELLO WORLDS");(-10;"";""));
4;f:{(*<x)-*>x:(x;y)}                    ;M((1 2 3;1 2 3;0);(1 2 3;1 0 9;1);(14 2 11;14 2 12;-1));
5;f:{|+/'~:\>/(&/#'x)#'x:(x;y)}          ;M((6 6 4 2 1;6 5 5;2 1);(,6;,5;0 1);(4 0 -1;3 1 -2;1 2));
6;f:{x[1]\'x[0]\y}                       ;M((" =";"language=APL dialect=Dyalog";(("language";"APL");("dialect";"Dyalog")));(";:";"duck:donald";,("duck";"donald"))
                                            ("/:";"name:Morten/name:Brian/name:Adám";(("name";"Morten");("name";"Brian");("name";"Adám"))));
/7;f:{}                                   ;M((1.2;6 5);(3.5;7 2);(1%3;1 3));
8;f:{dt[-1]c+&/(2 lcm/':4#23 28 33)!'-/(u;c):1 dt'(x;y)};M((1962 10 31;2023 1 1;2023 2 4);(1961 2 23;1961 2 23;1961 2 23));
9;f:{$[(*x)~**x;,/|'0N 2#x;o'x]}         ;M((1+!10;2 1 4 3 6 5 8 7 10 9);(1+!9;2 1 4 3 6 5 8 7 9);(1+4 2#!8;(2 1;4 3;6 5;8 7));(1+4 3#!12;(2 1 3;5 4 6;8 7 9;11 10 12))
                                            (1+3 3 3#!27;((2 1 3;5 4 6;8 7 9);(11 10 12;14 13 15;17 16 18);(20 19 21;23 22 24;26 25 27)))
                                            ((`donald`duck`wrote;`some`good`APL);(`duck`donald`wrote;`good`some`APL)));
10;f:{$[x;(y@!x),," "/(x-:1)_y:" "\y;()]};M((1;"this is a sample";,"this is a sample");(2;"this is a sample";("this";"is a sample"))
                                            (4;"this is a sample";("this";"is";,"a";"sample"))
                                            (13;"  this  is  a  sample  ";("";"";"this";"";"is";"";,"a";"";"sample";"";"";"";""))
                                            (0;"this is a sample";());(4;"";("";"";"";"")));

`exit R
