/https://codegolf.stackexchange.com/questions/204694/analyze-the-flow/204705#204705
f:{l,'@[&*/s;c;+;1][h]-l:#'c h:*'?c:{x@<x:(x?a@*|x)_x}'{?x,a x}'/a::s/s!'(+(,/-:\|:\!2)@,/x)+!s:2##x}
\l 0.k
t["rdlu"?("urdru";"rllru";"uuulr";"ududl";"lurdu");(6 5;2 10;2 0)]
