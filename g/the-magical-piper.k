/https://codegolf.stackexchange.com/questions/199026/the-magical-piper/199028#199028
f:{$[~2=#x:"P"\x^"_";`error;|//^x:2#',/0N 2#/:"o~"?x;`error;+/x]}
\l 0.k
t["__o~P_o~~o";1 2]
t["__o_~o_P";`error]
t["_o~";`error]
t["_o~o_";`error]
t["_o~Po~x_";`error]
