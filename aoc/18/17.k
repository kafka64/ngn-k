#!../../k
x:0:"i/17"
x:2#''`I$(".."\2_)''{x@>x}'", "\'x
x:x-\:O:-1+&/&/x
n:2+|/|/x
U:{x+!1+y-x}/
a:(n#".").[;;:;"#"]/U''x
e:{(</~^"#~"?a[x+!2]@'(z,0)+)(z+)/y}
f:{u:e[x;y;]'-1 1;a[x;U u]:"|";x F'u@&"."=a[1+x]u;$[&/|/'"#~"=/:a[1+x]u;[a[x;U u]:"~";o[x-1]y];]}
F:{X:(|/".|"=a[;y]1+)(1+)/x;a[U x,X;y]:"|";$[~^a[1+X]y;f[X]y;]}
F[0;500-O 1]
+//"|~"=\:1_-1_a
+// "~"=  1_-1_a
