#include<math.h> // ngn/k, (c) 2019-2024 ngn, GNU AGPLv3 - https://codeberg.org/ngn/k/raw/branch/master/LICENSE
#include"a.h"
X1(neg,RE(neg(gZ(x)))Rilc(az(-gl(x)))Rf(af(-gf(x)))RC(neg(cG(x)))RmMA(e1f(neg,x))RB(neg(cG(x)))R_(et(x))
 RGHILF(U n=xn;I(xw-3<3&&minfZ(0,x)==-1<<(8<<xw-3)-1,x=ct(tH+xw-3,x))A y=MINE(x)?x:an(n,xt),z=x-y?x:au;n=((n<<xw-3)+31&~31)>>xw-3;
  Mz(X(C(tG,F(n,yg=-xg))C(tH,F(n,yh=-xh))C(tI,F(n,yi=-xi))C(tL,F(n,yl=-xl))D(F(n,yf=-xf))))y))
X1(not,RmMA(e1f(not,x))RU(x(ai(x==au)))
 RB(x=mut(x);W*a=xV;F((xn+255&-256)>>6,*a++^=-1)x)R_(eql(xtsS?as(0):ai(0),x)))
X1(nul,RmMA(e1f(nul,x))RU(x(ai(x==au)))RB(whr(len(x)))RF(A y=aG(xn);Mx(F(xn,yg=xf!=xf))y)Rf(x(ai(*xF!=*xF)))R_(eql(cn[xt],x)))
X1(flr,RmMA(e1f(flr,x))RcC(K1("{`c$x+32*~\"A[\"'x}",x))RsS(cS(flr(str(x))))RilEBGHIL(x)RfF(A y=an(xn,xt+tl-tf);Mx(F(yn,yl=xf<0?(L)xf-(xf<(L)xf):(L)xf))y)R_(et(x)))

#define M(k,f) X1(k,RfF(A y=MINE(x)?x:an(xn,xt);F(xn+3&~3,yf=f(xf));x-y?x(y):y)RmMA(e1f(k,x))R_(k(N(cF(x)))))
M(ksin,sin)M(kcos,cos)M(klog,log)M(kexp,exp)M(sqr,SQ)
